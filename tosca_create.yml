{'tosca_definitions_version': 'tosca_simple_yaml_1_0', 'description': 'TOSCA test for the IM', 'repositories': {'indigo_repository': {'description': 'INDIGO Custom types repository', 'url': 'https://raw.githubusercontent.com/indigo-dc/tosca-types/master/'}}, 'imports': [{'indigo_custom_types': {'file': 'custom_types.yaml', 'repository': 'indigo_repository'}}], 'topology_template': {'inputs': {'db_name': {'type': 'string', 'default': 'world'}, 'db_user': {'type': 'string', 'default': 'dbuser'}, 'db_password': {'type': 'string', 'default': 'pass'}, 'mysql_root_password': {'type': 'string', 'default': 'mypass'}}, 'node_templates': {'apache': {'type': 'tosca.nodes.WebServer.Apache', 'requirements': [{'host': 'web_server'}]}, 'web_server': {'type': 'tosca.nodes.indigo.Compute', 'capabilities': {'endpoint': {'properties': {'network_name': 'PUBLIC', 'ports': {'ssh_port': {'protocol': 'tcp', 'source': 22}, 'http_port': {'protocol': 'tcp', 'source': 80}}}}, 'host': {'properties': {'num_cpus': 1, 'mem_size': '1 GB'}}, 'os': {'properties': {'type': 'linux', 'distribution': 'ubuntu', 'version': 18.04, 'image': 'ost://stratus.ncg.ingrid.pt/97624935-200f-4670-9ea8-c65282adbe56'}}}}}, 'outputs': {'server_url': {'value': {'get_attribute': ['web_server', 'public_address']}}, 'server_creds': {'value': {'get_attribute': ['web_server', 'endpoint', 'credential', 0]}}, 'server_creds_password': {'value': {'get_attribute': ['web_server', 'endpoint', 'credential', 0, 'token']}}, 'ansible_output': {'value': {'get_attribute': ['web_server', 'ansible_output', 'main_front', 'tasks', 'debug', 'output']}}}}}